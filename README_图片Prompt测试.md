# å›¾ç‰‡Promptæµ‹è¯•å·¥å…· - å®Œæ•´æµç¨‹

## âœ… å·²å®Œæˆ

æˆ‘å·²ç»æ ¹æ®ä½ çš„éœ€æ±‚é‡å†™äº†å®Œæ•´çš„ç¨‹åºï¼ŒåŒ…æ‹¬ï¼š

1. âœ… **è®ºæ–‡æ”¶é›†å’Œä¸‹è½½** - ä»12ä¸ªä¸åŒé¢†åŸŸæ”¶é›†2024å¹´è®ºæ–‡
2. âœ… **æ™ºèƒ½æµç¨‹å›¾æå–** - è‡ªåŠ¨ç­›é€‰æµç¨‹å›¾/æ¼”ç¤ºå›¾ï¼Œæ’é™¤å®éªŒå›¾è¡¨å’Œç´ æå›¾
3. âœ… **OpenRouter APIé›†æˆ** - ä½¿ç”¨google/gemini-2.5-flashå›¾ç”Ÿæ–‡ï¼Œgoogle/gemini-3-pro-image-previewæ–‡ç”Ÿå›¾
4. âœ… **å®Œæ•´æµç¨‹** - è‡ªåŠ¨å¤„ç†ç›´åˆ°æ‰¾åˆ°100å¼ ç¬¦åˆè¦æ±‚çš„æµç¨‹å›¾
5. âœ… **ç»“æ„åŒ–è¾“å‡º** - æ¯å¼ åŸå›¾åŠå…¶5ä¸ªpromptå’Œ5å¼ ç”Ÿæˆå›¾ç‰‡æ•´ç†åœ¨ä¸€èµ·

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å‡†å¤‡API Key

è·å–OpenRouter API Key: https://openrouter.ai/keys

### 2. è¿è¡Œç¨‹åº

```bash
python scripts/image_prompt_test.py \
    --num-images 100 \
    --year 2024 \
    --num-prompts 5 \
    --openrouter-api-key sk-or-v1-your-key-here \
    --output-dir data/prompt_test
```

### 3. æŸ¥çœ‹ç»“æœ

ç»“æœä¿å­˜åœ¨ `data/prompt_test/results/` ç›®å½•ï¼Œæ¯ä¸ªè®ºæ–‡ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼š
- `original.png` - åŸå›¾
- `generated_1.png` åˆ° `generated_5.png` - 5å¼ ç”Ÿæˆå›¾ç‰‡
- `prompts.txt` - 5ä¸ªpromptæ–‡æœ¬

## ğŸ“‹ æ ¸å¿ƒç‰¹æ€§

### æ™ºèƒ½æµç¨‹å›¾ç­›é€‰

ç¨‹åºä¼šè‡ªåŠ¨è¯†åˆ«å¹¶æå–ï¼š
- âœ… æµç¨‹å›¾ï¼ˆç®­å¤´ã€æ¡†ã€è¿æ¥çº¿ï¼‰
- âœ… æ¶æ„å›¾ï¼ˆç³»ç»Ÿç»“æ„ï¼‰
- âœ… æ¼”ç¤ºå›¾ï¼ˆæ¦‚å¿µå¯è§†åŒ–ï¼‰
- âŒ æ’é™¤å®éªŒå›¾è¡¨ã€ç´ æå›¾ã€ç…§ç‰‡

### è‡ªåŠ¨å¤„ç†æµç¨‹

1. æ”¶é›†è®ºæ–‡ â†’ ä¸‹è½½PDF â†’ æå–æµç¨‹å›¾
2. å¦‚æœè®ºæ–‡æ²¡æœ‰æµç¨‹å›¾ï¼Œ**è‡ªåŠ¨è·³è¿‡å¹¶åˆ é™¤**ï¼Œç»§ç»­å¤„ç†ä¸‹ä¸€ç¯‡
3. ç›´åˆ°æ”¶é›†åˆ°æŒ‡å®šæ•°é‡çš„æµç¨‹å›¾ï¼ˆé»˜è®¤100å¼ ï¼‰

### APIä½¿ç”¨

- **å›¾ç”Ÿæ–‡**: `google/gemini-2.5-flash` - åˆ†æå›¾ç‰‡ç”Ÿæˆprompt
- **æ–‡ç”Ÿå›¾**: `google/gemini-3-pro-image-preview` - æ ¹æ®promptç”Ÿæˆå›¾ç‰‡
- **å‰ç½®prompt**: ä½¿ç”¨ä½ æä¾›çš„ç§‘å­¦æ’å›¾ä¸“å®¶prompt

## ğŸ“ è¾“å‡ºç»“æ„

```
data/prompt_test/
â”œâ”€â”€ results/
â”‚   â”œâ”€â”€ 2301.12345/
â”‚   â”‚   â”œâ”€â”€ original.png
â”‚   â”‚   â”œâ”€â”€ generated_1.png
â”‚   â”‚   â”œâ”€â”€ generated_2.png
â”‚   â”‚   â”œâ”€â”€ generated_3.png
â”‚   â”‚   â”œâ”€â”€ generated_4.png
â”‚   â”‚   â”œâ”€â”€ generated_5.png
â”‚   â”‚   â””â”€â”€ prompts.txt
â”‚   â””â”€â”€ ...
â””â”€â”€ summary.txt
```

## âš™ï¸ å‚æ•°è¯´æ˜

- `--num-images 100` - è¦æ”¶é›†çš„æµç¨‹å›¾æ•°é‡
- `--year 2024` - è®ºæ–‡å¹´ä»½
- `--num-prompts 5` - æ¯ä¸ªåŸå›¾ç”Ÿæˆ5ä¸ªprompt
- `--openrouter-api-key` - **å¿…éœ€**ï¼ŒOpenRouter APIå¯†é’¥
- `--max-papers 500` - æœ€å¤šå¤„ç†500ç¯‡è®ºæ–‡ï¼ˆç¡®ä¿èƒ½æ‰¾åˆ°è¶³å¤Ÿçš„æµç¨‹å›¾ï¼‰

## ğŸ’¡ æµ‹è¯•å»ºè®®

å…ˆç”¨å°æ•°é‡æµ‹è¯•ï¼š

```bash
python scripts/image_prompt_test.py \
    --num-images 5 \
    --num-prompts 3 \
    --openrouter-api-key YOUR_KEY \
    --max-papers 20
```

## ğŸ“– è¯¦ç»†æ–‡æ¡£

æŸ¥çœ‹ `å›¾ç‰‡Promptæµ‹è¯•ä½¿ç”¨è¯´æ˜.md` äº†è§£å®Œæ•´ä½¿ç”¨æ–¹æ³•å’Œæ•…éšœæ’é™¤ã€‚

---

**ç¨‹åºå·²å°±ç»ªï¼Œå¯ä»¥ç›´æ¥è¿è¡Œï¼** ğŸ‰
